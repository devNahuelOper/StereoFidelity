!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=2)}([function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0),n(1);var o=function(){var e=new(window.AudioContext||window.webkitAudioContext),t=[],n=null,o=document.querySelector(".keyboard"),r=document.querySelector("select[name='waveform']"),a=document.querySelector("input[name='volume']"),i=null,c=null,d=null,u=null;function l(o){if(1&o.buttons){var a=o.target.dataset;a.pressed||(t[a.octave[a.note]]=function(t){var o=e.createOscillator();o.connect(n);var a=r.options[r.selectedIndex].value;return"custom"==a?o.setPeriodicWave(c):o.type=a,o.frequency.value=t,o.play(),o}(a.frequency),a.pressed="yes")}}function s(e){var n=e.target.dataset;n&&n.pressed&&(t[n.octave[n.note]].stop(),t[n.octave[n.note]]=null,delete n.pressed)}function f(e){n.gain.value=a.value}!function(){i=function(){for(var e=[],t=0;t<9;t++)e[t]=[];return e[0].A=27.5,e[0]["A#"]=29.13523509488062,e[0].B=30.867706328507754,e[1].C=32.70319566257483,e[1]["C#"]=34.64782887210901,e[1].D=36.70809598967595,e[1]["D#"]=38.890872965260115,e[1].E=41.20344461410874,e[1].F=43.653528929125486,e[1]["F#"]=46.2493028389543,e[1].G=48.99942949771866,e[1]["G#"]=51.91308719749314,e[1].A=55,e[1]["A#"]=58.27047018976124,e[1].B=61.735412657015516,e[2].C=65.40639,e[2]["C#"]=69.29566,e[2].D=73.41619,e[2]["D#"]=77.78175,e[2].E=82.40689,e[2].F=87.30706,e[2]["F#"]=92.49861,e[2].G=97.99886,e[2]["G#"]=103.8262,e[2].A=110,e[2]["A#"]=116.5409,e[2].B=123.4708,e[7].C=2093.004522404789,e[7]["C#"]=2217.4610478149766,e[7].D=2349.3181433392606,e[7]["D#"]=2489.0158697766474,e[7].E=2637.0204553029594,e[7].F=2793.825851464031,e[7]["F#"]=2959.955381693075,e[7].G=3135.963487853994,e[7]["G#"]=3322.437580639561,e[7].A=3520,e[7]["A#"]=3729.3100921447194,e[7].B=3951.066410048993,e[8].C=4186.009044809578,e}(),a.addEventListener("change",f,!1),(n=e.createGain()).connect(e.destination),n.gain.value=a.value,i.forEach((function(e,t){var n=Object.entries(e),r=document.createElement("div");r.className="octave",n.forEach((function(e){var n,o,a,i,c;e[0].length<=2&&r.appendChild((n=e[0],o=t,a=e[1],i=document.createElement("div"),c=document.createElement("div"),i.className="key",i.dataset.octave=o,i.dataset.note=n,i.dataset.frequency=a,c.innerHTML=n+"<sub>"+o+"</sub>",i.appendChild(c),i.addEventListener("mousedown",l,!1),i.addEventListener("mouseup",s,!1),i.addEventListener("mouseover",l,!1),i.addEventListener("mouseleave",s,!1),i))})),o.appendChild(r)})),document.querySelector("div[data-note='B'][data-octave='1']").scrollIntoView(!1),d=new Float32Array([0,0,1,0,1]),u=new Float32Array(d.length),c=e.createPeriodicWave(u,d);for(var r=0;r<9;r++)t[r]=[]}()};window.addEventListener("DOMContentLoaded",(function(){var e,t,n,r,a=document.querySelector("div"),i=window.innerWidth,c=window.innerHeight;a.style.width=i+"px",a.style.height=c+"px",window.onresize=function(){i=window.innerWidth,c=window.innerHeight,a.style.width=i+"px",a.style.height=c+"px"};var d=document.getElementsByClassName("sample")[0];d.addEventListener("click",(function(){(e=new Audio("stereo_fidelity.mp3")).controls=!0,l()}));var u=document.getElementsByClassName("sample")[1];function l(){e.addEventListener("canplay",(function(){n=n||new AudioContext,(t=t||n.createAnalyser()).smoothingTimeConstant=1,t.fftSize=512,(r=n.createMediaElementSource(e)).connect(t),r.connect(n.destination),e.play()}))}function s(){n&&"suspended"===n.state&&n.resume()}function f(){n&&"running"===n.state&&n.suspend()}u.addEventListener("click",(function(){(e=new Audio("motorcycle.mp3")).controls=!0,l()})),document.getElementsByClassName("play")[0].addEventListener("click",s.bind(null,d)),document.getElementsByClassName("stop")[0].addEventListener("click",f),document.getElementsByClassName("play")[1].addEventListener("click",s.bind(null,u)),document.getElementsByClassName("stop")[1].addEventListener("click",f),o()}))}]);
//# sourceMappingURL=main.js.map